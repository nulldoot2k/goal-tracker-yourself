{% extends "base.html" %}

{% block title %}Chỉnh Sửa Mục Tiêu{% endblock %}

{% block content %}
<div class="container" style="max-width: 600px;">
    <h2 class="mb-4"><i class="bi bi-pencil"></i> Chỉnh Sửa Mục Tiêu</h2>
    
    <div class="card goal-card">
        <div class="card-body">
            <form method="POST">
                <div class="mb-3">
                    <label for="title" class="form-label"><strong>Tên mục tiêu</strong> <span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="title" name="title" required 
                           value="{{ goal.title }}">
                </div>

                <div class="mb-3">
                    <label for="description" class="form-label"><strong>Mô tả chi tiết</strong></label>
                    <textarea class="form-control" id="description" name="description" rows="4">{{ goal.description }}</textarea>
                </div>

                <div class="mb-3">
                    <label for="target_date" class="form-label"><strong>Hạn hoàn thành</strong></label>
                    <input type="date" class="form-control" id="target_date" name="target_date" 
                           value="{{ goal.target_date }}">
                </div>

                <div class="mb-4">
                    <label for="status" class="form-label"><strong>Trạng thái</strong></label>
                    <select class="form-select" id="status" name="status">
                        <option value="active" {% if goal.status == 'active' %}selected{% endif %}>
                            Đang thực hiện
                        </option>
                        <option value="paused" {% if goal.status == 'paused' %}selected{% endif %}>
                            Tạm dừng
                        </option>
                        <option value="completed" {% if goal.status == 'completed' %}selected{% endif %}>
                            Hoàn thành
                        </option>
                    </select>
                </div>

                <div class="d-flex gap-2">
                    <button type="submit" class="btn btn-primary-custom flex-grow-1">
                        <i class="bi bi-save"></i> Lưu Thay Đổi
                    </button>
                    <a href="/goals" class="btn btn-outline-secondary flex-grow-1">
                        <i class="bi bi-x-circle"></i> Hủy
                    </a>
                </div>
            </form>
        </div>
    </div>

    <div class="mt-3">
        <form method="POST" action="/goals/{{ goal.id }}/delete" 
              onsubmit="return confirm('Bạn chắc chắn muốn xóa mục tiêu này? Hành động này không thể hoàn tác!')">
            <button type="submit" class="btn btn-outline-danger w-100">
                <i class="bi bi-trash"></i> Xóa Mục Tiêu Này
            </button>
        </form>
    </div>
</div>
{% endblock %}
